import org.gradle.internal.os.OperatingSystem

plugins {
	id 'java-library'
	id 'application'
}

project.ext.lwjglVersion = "3.2.4-SNAPSHOT"

sourceCompatibility = 11
targetCompatibility = 11

java {
	modularity.inferModulePath = true
}

application {
	mainModule = 'testVorbis'
	mainClass = 'test.vorbis.Main'
}

switch (OperatingSystem.current()) {
	case OperatingSystem.LINUX:
		project.ext.lwjglNatives = "natives-linux"
		break
	case OperatingSystem.WINDOWS:
		project.ext.lwjglNatives = "natives-windows"
		break
}

repositories {
	mavenCentral()
	maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
}

dependencies {
	implementation platform("org.lwjgl:lwjgl-bom:$lwjglVersion")

	implementation "org.lwjgl:lwjgl"
	implementation "org.lwjgl:lwjgl-openal"
	implementation "org.lwjgl:lwjgl-stb"
	implementation "org.lwjgl:lwjgl::$lwjglNatives"
	implementation "org.lwjgl:lwjgl-openal::$lwjglNatives"
	implementation "org.lwjgl:lwjgl-stb::$lwjglNatives"
}
